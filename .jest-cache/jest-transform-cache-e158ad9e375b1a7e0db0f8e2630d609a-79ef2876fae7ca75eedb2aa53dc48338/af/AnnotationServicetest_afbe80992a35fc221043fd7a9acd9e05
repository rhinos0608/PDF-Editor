11124967c30a2d6164f7ddd9ea8f3bd0
// Mock pdf-lib
_getJestObj().mock('pdf-lib', () => ({
  PDFDocument: {
    load: jest.fn()
  },
  rgb: jest.fn(),
  StandardFonts: {
    Helvetica: 'Helvetica',
    HelveticaBold: 'HelveticaBold'
  },
  degrees: jest.fn()
}));

// Mock uuid
_getJestObj().mock('uuid', () => ({
  v4: jest.fn(() => 'mock-uuid')
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const {
  AnnotationService
} = require('../../src/renderer/services/AnnotationService');
describe('AnnotationService', () => {
  let annotationService;
  beforeEach(() => {
    annotationService = new AnnotationService();
    jest.clearAllMocks();
  });
  describe('createAnnotation', () => {
    it('should create a new annotation with default properties', () => {
      const annotation = annotationService.createAnnotation('text', 0, 100, 200, {
        text: 'Test annotation'
      });
      expect(annotation).toEqual({
        id: 'mock-uuid',
        type: 'text',
        pageIndex: 0,
        x: 100,
        y: 200,
        text: 'Test annotation',
        createdAt: expect.any(Date),
        modifiedAt: expect.any(Date)
      });
    });
    it('should store the annotation', () => {
      const annotation = annotationService.createAnnotation('highlight', 1, 50, 75);
      const stored = annotationService.getAllAnnotations();
      expect(stored).toHaveLength(1);
      expect(stored[0]).toEqual(annotation);
    });
  });
  describe('getPageAnnotations', () => {
    it('should return annotations for a specific page', () => {
      annotationService.createAnnotation('text', 0, 100, 200, {
        text: 'Page 0 annotation'
      });
      annotationService.createAnnotation('highlight', 1, 50, 75);
      annotationService.createAnnotation('text', 0, 150, 250, {
        text: 'Another page 0 annotation'
      });
      const page0Annotations = annotationService.getPageAnnotations(0);
      const page1Annotations = annotationService.getPageAnnotations(1);
      expect(page0Annotations).toHaveLength(2);
      expect(page1Annotations).toHaveLength(1);
      expect(page0Annotations[0].text).toBe('Page 0 annotation');
      expect(page0Annotations[1].text).toBe('Another page 0 annotation');
      expect(page1Annotations[0].type).toBe('highlight');
    });
    it('should not return hidden annotations', () => {
      annotationService.createAnnotation('text', 0, 100, 200, {
        text: 'Visible annotation'
      });
      const hiddenAnnotation = annotationService.createAnnotation('highlight', 0, 50, 75);
      annotationService.updateAnnotation(hiddenAnnotation.id, {
        isHidden: true
      });
      const annotations = annotationService.getPageAnnotations(0);
      expect(annotations).toHaveLength(1);
      expect(annotations[0].text).toBe('Visible annotation');
    });
  });
  describe('updateAnnotation', () => {
    it('should update an existing annotation', () => {
      const annotation = annotationService.createAnnotation('text', 0, 100, 200, {
        text: 'Original text'
      });
      const updated = annotationService.updateAnnotation(annotation.id, {
        text: 'Updated text',
        x: 150
      });
      expect(updated).toEqual({
        ...annotation,
        text: 'Updated text',
        x: 150,
        modifiedAt: expect.any(Date)
      });
      const stored = annotationService.getAllAnnotations()[0];
      expect(stored.text).toBe('Updated text');
      expect(stored.x).toBe(150);
    });
    it('should not update a locked annotation', () => {
      const annotation = annotationService.createAnnotation('text', 0, 100, 200, {
        text: 'Locked annotation'
      });
      annotationService.updateAnnotation(annotation.id, {
        isLocked: true
      });
      const updated = annotationService.updateAnnotation(annotation.id, {
        text: 'Should not update'
      });
      expect(updated).toBeNull();
      expect(annotationService.getAllAnnotations()[0].text).toBe('Original text');
    });
    it('should return null for non-existent annotation', () => {
      const updated = annotationService.updateAnnotation('non-existent-id', {
        text: 'New text'
      });
      expect(updated).toBeNull();
    });
  });
  describe('deleteAnnotation', () => {
    it('should delete an existing annotation', () => {
      const annotation = annotationService.createAnnotation('text', 0, 100, 200);
      const deleted = annotationService.deleteAnnotation(annotation.id);
      expect(deleted).toBe(true);
      expect(annotationService.getAllAnnotations()).toHaveLength(0);
    });
    it('should not delete a locked annotation', () => {
      const annotation = annotationService.createAnnotation('text', 0, 100, 200);
      annotationService.updateAnnotation(annotation.id, {
        isLocked: true
      });
      const deleted = annotationService.deleteAnnotation(annotation.id);
      expect(deleted).toBe(false);
      expect(annotationService.getAllAnnotations()).toHaveLength(1);
    });
    it('should return false for non-existent annotation', () => {
      const deleted = annotationService.deleteAnnotation('non-existent-id');
      expect(deleted).toBe(false);
    });
  });
  describe('searchAnnotations', () => {
    it('should find annotations containing the search query', () => {
      annotationService.createAnnotation('text', 0, 100, 200, {
        text: 'This is a test annotation'
      });
      annotationService.createAnnotation('note', 1, 50, 75, {
        text: 'Another annotation'
      });
      annotationService.createAnnotation('highlight', 0, 25, 30);
      const results = annotationService.searchAnnotations('test');
      expect(results).toHaveLength(1);
      expect(results[0].text).toBe('This is a test annotation');
    });
    it('should search in annotation replies', () => {
      const annotation = annotationService.createAnnotation('text', 0, 100, 200, {
        text: 'Original text'
      });
      annotationService.addReply(annotation.id, 'This is a reply with test content', 'Author');
      const results = annotationService.searchAnnotations('test');
      expect(results).toHaveLength(1);
      expect(results[0].text).toBe('Original text');
    });
  });
  describe('getStatistics', () => {
    it('should return annotation statistics', () => {
      annotationService.createAnnotation('text', 0, 100, 200, {
        text: 'Text annotation'
      });
      annotationService.createAnnotation('highlight', 0, 50, 75);
      annotationService.createAnnotation('text', 1, 150, 250, {
        text: 'Another text annotation'
      });
      annotationService.createAnnotation('highlight', 1, 25, 30);
      const stats = annotationService.getStatistics();
      expect(stats).toEqual({
        total: 4,
        byType: {
          text: 2,
          highlight: 2
        },
        byPage: {
          0: 2,
          1: 2
        }
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJQREZEb2N1bWVudCIsImxvYWQiLCJqZXN0IiwiZm4iLCJyZ2IiLCJTdGFuZGFyZEZvbnRzIiwiSGVsdmV0aWNhIiwiSGVsdmV0aWNhQm9sZCIsImRlZ3JlZXMiLCJ2NCIsInJlcXVpcmUiLCJBbm5vdGF0aW9uU2VydmljZSIsImRlc2NyaWJlIiwiYW5ub3RhdGlvblNlcnZpY2UiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiYW5ub3RhdGlvbiIsImNyZWF0ZUFubm90YXRpb24iLCJ0ZXh0IiwiZXhwZWN0IiwidG9FcXVhbCIsImlkIiwidHlwZSIsInBhZ2VJbmRleCIsIngiLCJ5IiwiY3JlYXRlZEF0IiwiYW55IiwiRGF0ZSIsIm1vZGlmaWVkQXQiLCJzdG9yZWQiLCJnZXRBbGxBbm5vdGF0aW9ucyIsInRvSGF2ZUxlbmd0aCIsInBhZ2UwQW5ub3RhdGlvbnMiLCJnZXRQYWdlQW5ub3RhdGlvbnMiLCJwYWdlMUFubm90YXRpb25zIiwidG9CZSIsImhpZGRlbkFubm90YXRpb24iLCJ1cGRhdGVBbm5vdGF0aW9uIiwiaXNIaWRkZW4iLCJhbm5vdGF0aW9ucyIsInVwZGF0ZWQiLCJpc0xvY2tlZCIsInRvQmVOdWxsIiwiZGVsZXRlZCIsImRlbGV0ZUFubm90YXRpb24iLCJyZXN1bHRzIiwic2VhcmNoQW5ub3RhdGlvbnMiLCJhZGRSZXBseSIsInN0YXRzIiwiZ2V0U3RhdGlzdGljcyIsInRvdGFsIiwiYnlUeXBlIiwiaGlnaGxpZ2h0IiwiYnlQYWdlIl0sInNvdXJjZXMiOlsiQW5ub3RhdGlvblNlcnZpY2UudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IEFubm90YXRpb25TZXJ2aWNlIH0gPSByZXF1aXJlKCcuLi8uLi9zcmMvcmVuZGVyZXIvc2VydmljZXMvQW5ub3RhdGlvblNlcnZpY2UnKTtcblxuLy8gTW9jayBwZGYtbGliXG5qZXN0Lm1vY2soJ3BkZi1saWInLCAoKSA9PiAoe1xuICBQREZEb2N1bWVudDoge1xuICAgIGxvYWQ6IGplc3QuZm4oKVxuICB9LFxuICByZ2I6IGplc3QuZm4oKSxcbiAgU3RhbmRhcmRGb250czoge1xuICAgIEhlbHZldGljYTogJ0hlbHZldGljYScsXG4gICAgSGVsdmV0aWNhQm9sZDogJ0hlbHZldGljYUJvbGQnXG4gIH0sXG4gIGRlZ3JlZXM6IGplc3QuZm4oKVxufSkpO1xuXG4vLyBNb2NrIHV1aWRcbmplc3QubW9jaygndXVpZCcsICgpID0+ICh7XG4gIHY0OiBqZXN0LmZuKCgpID0+ICdtb2NrLXV1aWQnKVxufSkpO1xuXG5kZXNjcmliZSgnQW5ub3RhdGlvblNlcnZpY2UnLCAoKSA9PiB7XG4gIGxldCBhbm5vdGF0aW9uU2VydmljZTtcbiAgXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGFubm90YXRpb25TZXJ2aWNlID0gbmV3IEFubm90YXRpb25TZXJ2aWNlKCk7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjcmVhdGVBbm5vdGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgbmV3IGFubm90YXRpb24gd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbm5vdGF0aW9uID0gYW5ub3RhdGlvblNlcnZpY2UuY3JlYXRlQW5ub3RhdGlvbigndGV4dCcsIDAsIDEwMCwgMjAwLCB7XG4gICAgICAgIHRleHQ6ICdUZXN0IGFubm90YXRpb24nXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGFubm90YXRpb24pLnRvRXF1YWwoe1xuICAgICAgICBpZDogJ21vY2stdXVpZCcsXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgcGFnZUluZGV4OiAwLFxuICAgICAgICB4OiAxMDAsXG4gICAgICAgIHk6IDIwMCxcbiAgICAgICAgdGV4dDogJ1Rlc3QgYW5ub3RhdGlvbicsXG4gICAgICAgIGNyZWF0ZWRBdDogZXhwZWN0LmFueShEYXRlKSxcbiAgICAgICAgbW9kaWZpZWRBdDogZXhwZWN0LmFueShEYXRlKVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN0b3JlIHRoZSBhbm5vdGF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IGFubm90YXRpb25TZXJ2aWNlLmNyZWF0ZUFubm90YXRpb24oJ2hpZ2hsaWdodCcsIDEsIDUwLCA3NSk7XG4gICAgICBjb25zdCBzdG9yZWQgPSBhbm5vdGF0aW9uU2VydmljZS5nZXRBbGxBbm5vdGF0aW9ucygpO1xuICAgICAgXG4gICAgICBleHBlY3Qoc3RvcmVkKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3Qoc3RvcmVkWzBdKS50b0VxdWFsKGFubm90YXRpb24pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0UGFnZUFubm90YXRpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFubm90YXRpb25zIGZvciBhIHNwZWNpZmljIHBhZ2UnLCAoKSA9PiB7XG4gICAgICBhbm5vdGF0aW9uU2VydmljZS5jcmVhdGVBbm5vdGF0aW9uKCd0ZXh0JywgMCwgMTAwLCAyMDAsIHsgdGV4dDogJ1BhZ2UgMCBhbm5vdGF0aW9uJyB9KTtcbiAgICAgIGFubm90YXRpb25TZXJ2aWNlLmNyZWF0ZUFubm90YXRpb24oJ2hpZ2hsaWdodCcsIDEsIDUwLCA3NSk7XG4gICAgICBhbm5vdGF0aW9uU2VydmljZS5jcmVhdGVBbm5vdGF0aW9uKCd0ZXh0JywgMCwgMTUwLCAyNTAsIHsgdGV4dDogJ0Fub3RoZXIgcGFnZSAwIGFubm90YXRpb24nIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBwYWdlMEFubm90YXRpb25zID0gYW5ub3RhdGlvblNlcnZpY2UuZ2V0UGFnZUFubm90YXRpb25zKDApO1xuICAgICAgY29uc3QgcGFnZTFBbm5vdGF0aW9ucyA9IGFubm90YXRpb25TZXJ2aWNlLmdldFBhZ2VBbm5vdGF0aW9ucygxKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHBhZ2UwQW5ub3RhdGlvbnMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChwYWdlMUFubm90YXRpb25zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocGFnZTBBbm5vdGF0aW9uc1swXS50ZXh0KS50b0JlKCdQYWdlIDAgYW5ub3RhdGlvbicpO1xuICAgICAgZXhwZWN0KHBhZ2UwQW5ub3RhdGlvbnNbMV0udGV4dCkudG9CZSgnQW5vdGhlciBwYWdlIDAgYW5ub3RhdGlvbicpO1xuICAgICAgZXhwZWN0KHBhZ2UxQW5ub3RhdGlvbnNbMF0udHlwZSkudG9CZSgnaGlnaGxpZ2h0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCByZXR1cm4gaGlkZGVuIGFubm90YXRpb25zJywgKCkgPT4ge1xuICAgICAgYW5ub3RhdGlvblNlcnZpY2UuY3JlYXRlQW5ub3RhdGlvbigndGV4dCcsIDAsIDEwMCwgMjAwLCB7IHRleHQ6ICdWaXNpYmxlIGFubm90YXRpb24nIH0pO1xuICAgICAgY29uc3QgaGlkZGVuQW5ub3RhdGlvbiA9IGFubm90YXRpb25TZXJ2aWNlLmNyZWF0ZUFubm90YXRpb24oJ2hpZ2hsaWdodCcsIDAsIDUwLCA3NSk7XG4gICAgICBhbm5vdGF0aW9uU2VydmljZS51cGRhdGVBbm5vdGF0aW9uKGhpZGRlbkFubm90YXRpb24uaWQsIHsgaXNIaWRkZW46IHRydWUgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFubm90YXRpb25zID0gYW5ub3RhdGlvblNlcnZpY2UuZ2V0UGFnZUFubm90YXRpb25zKDApO1xuICAgICAgXG4gICAgICBleHBlY3QoYW5ub3RhdGlvbnMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChhbm5vdGF0aW9uc1swXS50ZXh0KS50b0JlKCdWaXNpYmxlIGFubm90YXRpb24nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwZGF0ZUFubm90YXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgYW4gZXhpc3RpbmcgYW5ub3RhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGFubm90YXRpb24gPSBhbm5vdGF0aW9uU2VydmljZS5jcmVhdGVBbm5vdGF0aW9uKCd0ZXh0JywgMCwgMTAwLCAyMDAsIHsgdGV4dDogJ09yaWdpbmFsIHRleHQnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCB1cGRhdGVkID0gYW5ub3RhdGlvblNlcnZpY2UudXBkYXRlQW5ub3RhdGlvbihhbm5vdGF0aW9uLmlkLCB7XG4gICAgICAgIHRleHQ6ICdVcGRhdGVkIHRleHQnLFxuICAgICAgICB4OiAxNTBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QodXBkYXRlZCkudG9FcXVhbCh7XG4gICAgICAgIC4uLmFubm90YXRpb24sXG4gICAgICAgIHRleHQ6ICdVcGRhdGVkIHRleHQnLFxuICAgICAgICB4OiAxNTAsXG4gICAgICAgIG1vZGlmaWVkQXQ6IGV4cGVjdC5hbnkoRGF0ZSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBzdG9yZWQgPSBhbm5vdGF0aW9uU2VydmljZS5nZXRBbGxBbm5vdGF0aW9ucygpWzBdO1xuICAgICAgZXhwZWN0KHN0b3JlZC50ZXh0KS50b0JlKCdVcGRhdGVkIHRleHQnKTtcbiAgICAgIGV4cGVjdChzdG9yZWQueCkudG9CZSgxNTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgdXBkYXRlIGEgbG9ja2VkIGFubm90YXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbm5vdGF0aW9uID0gYW5ub3RhdGlvblNlcnZpY2UuY3JlYXRlQW5ub3RhdGlvbigndGV4dCcsIDAsIDEwMCwgMjAwLCB7IHRleHQ6ICdMb2NrZWQgYW5ub3RhdGlvbicgfSk7XG4gICAgICBhbm5vdGF0aW9uU2VydmljZS51cGRhdGVBbm5vdGF0aW9uKGFubm90YXRpb24uaWQsIHsgaXNMb2NrZWQ6IHRydWUgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhbm5vdGF0aW9uU2VydmljZS51cGRhdGVBbm5vdGF0aW9uKGFubm90YXRpb24uaWQsIHsgdGV4dDogJ1Nob3VsZCBub3QgdXBkYXRlJyB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHVwZGF0ZWQpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QoYW5ub3RhdGlvblNlcnZpY2UuZ2V0QWxsQW5ub3RhdGlvbnMoKVswXS50ZXh0KS50b0JlKCdPcmlnaW5hbCB0ZXh0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBudWxsIGZvciBub24tZXhpc3RlbnQgYW5ub3RhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhbm5vdGF0aW9uU2VydmljZS51cGRhdGVBbm5vdGF0aW9uKCdub24tZXhpc3RlbnQtaWQnLCB7IHRleHQ6ICdOZXcgdGV4dCcgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh1cGRhdGVkKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZGVsZXRlQW5ub3RhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRlbGV0ZSBhbiBleGlzdGluZyBhbm5vdGF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IGFubm90YXRpb25TZXJ2aWNlLmNyZWF0ZUFubm90YXRpb24oJ3RleHQnLCAwLCAxMDAsIDIwMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRlbGV0ZWQgPSBhbm5vdGF0aW9uU2VydmljZS5kZWxldGVBbm5vdGF0aW9uKGFubm90YXRpb24uaWQpO1xuICAgICAgXG4gICAgICBleHBlY3QoZGVsZXRlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChhbm5vdGF0aW9uU2VydmljZS5nZXRBbGxBbm5vdGF0aW9ucygpKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBkZWxldGUgYSBsb2NrZWQgYW5ub3RhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGFubm90YXRpb24gPSBhbm5vdGF0aW9uU2VydmljZS5jcmVhdGVBbm5vdGF0aW9uKCd0ZXh0JywgMCwgMTAwLCAyMDApO1xuICAgICAgYW5ub3RhdGlvblNlcnZpY2UudXBkYXRlQW5ub3RhdGlvbihhbm5vdGF0aW9uLmlkLCB7IGlzTG9ja2VkOiB0cnVlIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkZWxldGVkID0gYW5ub3RhdGlvblNlcnZpY2UuZGVsZXRlQW5ub3RhdGlvbihhbm5vdGF0aW9uLmlkKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGRlbGV0ZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGFubm90YXRpb25TZXJ2aWNlLmdldEFsbEFubm90YXRpb25zKCkpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIGZvciBub24tZXhpc3RlbnQgYW5ub3RhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGRlbGV0ZWQgPSBhbm5vdGF0aW9uU2VydmljZS5kZWxldGVBbm5vdGF0aW9uKCdub24tZXhpc3RlbnQtaWQnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGRlbGV0ZWQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2VhcmNoQW5ub3RhdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmaW5kIGFubm90YXRpb25zIGNvbnRhaW5pbmcgdGhlIHNlYXJjaCBxdWVyeScsICgpID0+IHtcbiAgICAgIGFubm90YXRpb25TZXJ2aWNlLmNyZWF0ZUFubm90YXRpb24oJ3RleHQnLCAwLCAxMDAsIDIwMCwgeyB0ZXh0OiAnVGhpcyBpcyBhIHRlc3QgYW5ub3RhdGlvbicgfSk7XG4gICAgICBhbm5vdGF0aW9uU2VydmljZS5jcmVhdGVBbm5vdGF0aW9uKCdub3RlJywgMSwgNTAsIDc1LCB7IHRleHQ6ICdBbm90aGVyIGFubm90YXRpb24nIH0pO1xuICAgICAgYW5ub3RhdGlvblNlcnZpY2UuY3JlYXRlQW5ub3RhdGlvbignaGlnaGxpZ2h0JywgMCwgMjUsIDMwKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0cyA9IGFubm90YXRpb25TZXJ2aWNlLnNlYXJjaEFubm90YXRpb25zKCd0ZXN0Jyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXS50ZXh0KS50b0JlKCdUaGlzIGlzIGEgdGVzdCBhbm5vdGF0aW9uJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBpbiBhbm5vdGF0aW9uIHJlcGxpZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbm5vdGF0aW9uID0gYW5ub3RhdGlvblNlcnZpY2UuY3JlYXRlQW5ub3RhdGlvbigndGV4dCcsIDAsIDEwMCwgMjAwLCB7IHRleHQ6ICdPcmlnaW5hbCB0ZXh0JyB9KTtcbiAgICAgIGFubm90YXRpb25TZXJ2aWNlLmFkZFJlcGx5KGFubm90YXRpb24uaWQsICdUaGlzIGlzIGEgcmVwbHkgd2l0aCB0ZXN0IGNvbnRlbnQnLCAnQXV0aG9yJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhbm5vdGF0aW9uU2VydmljZS5zZWFyY2hBbm5vdGF0aW9ucygndGVzdCcpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMF0udGV4dCkudG9CZSgnT3JpZ2luYWwgdGV4dCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0U3RhdGlzdGljcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhbm5vdGF0aW9uIHN0YXRpc3RpY3MnLCAoKSA9PiB7XG4gICAgICBhbm5vdGF0aW9uU2VydmljZS5jcmVhdGVBbm5vdGF0aW9uKCd0ZXh0JywgMCwgMTAwLCAyMDAsIHsgdGV4dDogJ1RleHQgYW5ub3RhdGlvbicgfSk7XG4gICAgICBhbm5vdGF0aW9uU2VydmljZS5jcmVhdGVBbm5vdGF0aW9uKCdoaWdobGlnaHQnLCAwLCA1MCwgNzUpO1xuICAgICAgYW5ub3RhdGlvblNlcnZpY2UuY3JlYXRlQW5ub3RhdGlvbigndGV4dCcsIDEsIDE1MCwgMjUwLCB7IHRleHQ6ICdBbm90aGVyIHRleHQgYW5ub3RhdGlvbicgfSk7XG4gICAgICBhbm5vdGF0aW9uU2VydmljZS5jcmVhdGVBbm5vdGF0aW9uKCdoaWdobGlnaHQnLCAxLCAyNSwgMzApO1xuICAgICAgXG4gICAgICBjb25zdCBzdGF0cyA9IGFubm90YXRpb25TZXJ2aWNlLmdldFN0YXRpc3RpY3MoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHN0YXRzKS50b0VxdWFsKHtcbiAgICAgICAgdG90YWw6IDQsXG4gICAgICAgIGJ5VHlwZToge1xuICAgICAgICAgIHRleHQ6IDIsXG4gICAgICAgICAgaGlnaGxpZ2h0OiAyXG4gICAgICAgIH0sXG4gICAgICAgIGJ5UGFnZToge1xuICAgICAgICAgIDA6IDIsXG4gICAgICAgICAgMTogMlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUVBO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLFNBQVMsRUFBRSxPQUFPO0VBQzFCQyxXQUFXLEVBQUU7SUFDWEMsSUFBSSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNoQixDQUFDO0VBQ0RDLEdBQUcsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNkRSxhQUFhLEVBQUU7SUFDYkMsU0FBUyxFQUFFLFdBQVc7SUFDdEJDLGFBQWEsRUFBRTtFQUNqQixDQUFDO0VBQ0RDLE9BQU8sRUFBRU4sSUFBSSxDQUFDQyxFQUFFLENBQUM7QUFDbkIsQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQUwsV0FBQSxHQUFLQyxJQUFJLENBQUMsTUFBTSxFQUFFLE9BQU87RUFDdkJVLEVBQUUsRUFBRVAsSUFBSSxDQUFDQyxFQUFFLENBQUMsTUFBTSxXQUFXO0FBQy9CLENBQUMsQ0FBQyxDQUFDO0FBQUMsU0FBQUwsWUFBQTtFQUFBO0lBQUFJO0VBQUEsSUFBQVEsT0FBQTtFQUFBWixXQUFBLEdBQUFBLENBQUEsS0FBQUksSUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQWxCSixNQUFNO0VBQUVTO0FBQWtCLENBQUMsR0FBR0QsT0FBTyxDQUFDLCtDQUErQyxDQUFDO0FBb0J0RkUsUUFBUSxDQUFDLG1CQUFtQixFQUFFLE1BQU07RUFDbEMsSUFBSUMsaUJBQWlCO0VBRXJCQyxVQUFVLENBQUMsTUFBTTtJQUNmRCxpQkFBaUIsR0FBRyxJQUFJRixpQkFBaUIsQ0FBQyxDQUFDO0lBQzNDVCxJQUFJLENBQUNhLGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUVGSCxRQUFRLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtJQUNqQ0ksRUFBRSxDQUFDLHdEQUF3RCxFQUFFLE1BQU07TUFDakUsTUFBTUMsVUFBVSxHQUFHSixpQkFBaUIsQ0FBQ0ssZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO1FBQ3pFQyxJQUFJLEVBQUU7TUFDUixDQUFDLENBQUM7TUFFRkMsTUFBTSxDQUFDSCxVQUFVLENBQUMsQ0FBQ0ksT0FBTyxDQUFDO1FBQ3pCQyxFQUFFLEVBQUUsV0FBVztRQUNmQyxJQUFJLEVBQUUsTUFBTTtRQUNaQyxTQUFTLEVBQUUsQ0FBQztRQUNaQyxDQUFDLEVBQUUsR0FBRztRQUNOQyxDQUFDLEVBQUUsR0FBRztRQUNOUCxJQUFJLEVBQUUsaUJBQWlCO1FBQ3ZCUSxTQUFTLEVBQUVQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDQyxJQUFJLENBQUM7UUFDM0JDLFVBQVUsRUFBRVYsTUFBTSxDQUFDUSxHQUFHLENBQUNDLElBQUk7TUFDN0IsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBRUZiLEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxNQUFNO01BQ3RDLE1BQU1DLFVBQVUsR0FBR0osaUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztNQUM3RSxNQUFNYSxNQUFNLEdBQUdsQixpQkFBaUIsQ0FBQ21CLGlCQUFpQixDQUFDLENBQUM7TUFFcERaLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLENBQUNFLFlBQVksQ0FBQyxDQUFDLENBQUM7TUFDOUJiLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNWLE9BQU8sQ0FBQ0osVUFBVSxDQUFDO0lBQ3ZDLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGTCxRQUFRLENBQUMsb0JBQW9CLEVBQUUsTUFBTTtJQUNuQ0ksRUFBRSxDQUFDLCtDQUErQyxFQUFFLE1BQU07TUFDeERILGlCQUFpQixDQUFDSyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7UUFBRUMsSUFBSSxFQUFFO01BQW9CLENBQUMsQ0FBQztNQUN0Rk4saUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztNQUMxREwsaUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtRQUFFQyxJQUFJLEVBQUU7TUFBNEIsQ0FBQyxDQUFDO01BRTlGLE1BQU1lLGdCQUFnQixHQUFHckIsaUJBQWlCLENBQUNzQixrQkFBa0IsQ0FBQyxDQUFDLENBQUM7TUFDaEUsTUFBTUMsZ0JBQWdCLEdBQUd2QixpQkFBaUIsQ0FBQ3NCLGtCQUFrQixDQUFDLENBQUMsQ0FBQztNQUVoRWYsTUFBTSxDQUFDYyxnQkFBZ0IsQ0FBQyxDQUFDRCxZQUFZLENBQUMsQ0FBQyxDQUFDO01BQ3hDYixNQUFNLENBQUNnQixnQkFBZ0IsQ0FBQyxDQUFDSCxZQUFZLENBQUMsQ0FBQyxDQUFDO01BQ3hDYixNQUFNLENBQUNjLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDZixJQUFJLENBQUMsQ0FBQ2tCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztNQUMxRGpCLE1BQU0sQ0FBQ2MsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUNmLElBQUksQ0FBQyxDQUFDa0IsSUFBSSxDQUFDLDJCQUEyQixDQUFDO01BQ2xFakIsTUFBTSxDQUFDZ0IsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUNiLElBQUksQ0FBQyxDQUFDYyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ3BELENBQUMsQ0FBQztJQUVGckIsRUFBRSxDQUFDLHNDQUFzQyxFQUFFLE1BQU07TUFDL0NILGlCQUFpQixDQUFDSyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7UUFBRUMsSUFBSSxFQUFFO01BQXFCLENBQUMsQ0FBQztNQUN2RixNQUFNbUIsZ0JBQWdCLEdBQUd6QixpQkFBaUIsQ0FBQ0ssZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO01BQ25GTCxpQkFBaUIsQ0FBQzBCLGdCQUFnQixDQUFDRCxnQkFBZ0IsQ0FBQ2hCLEVBQUUsRUFBRTtRQUFFa0IsUUFBUSxFQUFFO01BQUssQ0FBQyxDQUFDO01BRTNFLE1BQU1DLFdBQVcsR0FBRzVCLGlCQUFpQixDQUFDc0Isa0JBQWtCLENBQUMsQ0FBQyxDQUFDO01BRTNEZixNQUFNLENBQUNxQixXQUFXLENBQUMsQ0FBQ1IsWUFBWSxDQUFDLENBQUMsQ0FBQztNQUNuQ2IsTUFBTSxDQUFDcUIsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDdEIsSUFBSSxDQUFDLENBQUNrQixJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDeEQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZ6QixRQUFRLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtJQUNqQ0ksRUFBRSxDQUFDLHNDQUFzQyxFQUFFLE1BQU07TUFDL0MsTUFBTUMsVUFBVSxHQUFHSixpQkFBaUIsQ0FBQ0ssZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO1FBQUVDLElBQUksRUFBRTtNQUFnQixDQUFDLENBQUM7TUFFckcsTUFBTXVCLE9BQU8sR0FBRzdCLGlCQUFpQixDQUFDMEIsZ0JBQWdCLENBQUN0QixVQUFVLENBQUNLLEVBQUUsRUFBRTtRQUNoRUgsSUFBSSxFQUFFLGNBQWM7UUFDcEJNLENBQUMsRUFBRTtNQUNMLENBQUMsQ0FBQztNQUVGTCxNQUFNLENBQUNzQixPQUFPLENBQUMsQ0FBQ3JCLE9BQU8sQ0FBQztRQUN0QixHQUFHSixVQUFVO1FBQ2JFLElBQUksRUFBRSxjQUFjO1FBQ3BCTSxDQUFDLEVBQUUsR0FBRztRQUNOSyxVQUFVLEVBQUVWLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDQyxJQUFJO01BQzdCLENBQUMsQ0FBQztNQUVGLE1BQU1FLE1BQU0sR0FBR2xCLGlCQUFpQixDQUFDbUIsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUN2RFosTUFBTSxDQUFDVyxNQUFNLENBQUNaLElBQUksQ0FBQyxDQUFDa0IsSUFBSSxDQUFDLGNBQWMsQ0FBQztNQUN4Q2pCLE1BQU0sQ0FBQ1csTUFBTSxDQUFDTixDQUFDLENBQUMsQ0FBQ1ksSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUM1QixDQUFDLENBQUM7SUFFRnJCLEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxNQUFNO01BQ2hELE1BQU1DLFVBQVUsR0FBR0osaUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtRQUFFQyxJQUFJLEVBQUU7TUFBb0IsQ0FBQyxDQUFDO01BQ3pHTixpQkFBaUIsQ0FBQzBCLGdCQUFnQixDQUFDdEIsVUFBVSxDQUFDSyxFQUFFLEVBQUU7UUFBRXFCLFFBQVEsRUFBRTtNQUFLLENBQUMsQ0FBQztNQUVyRSxNQUFNRCxPQUFPLEdBQUc3QixpQkFBaUIsQ0FBQzBCLGdCQUFnQixDQUFDdEIsVUFBVSxDQUFDSyxFQUFFLEVBQUU7UUFBRUgsSUFBSSxFQUFFO01BQW9CLENBQUMsQ0FBQztNQUVoR0MsTUFBTSxDQUFDc0IsT0FBTyxDQUFDLENBQUNFLFFBQVEsQ0FBQyxDQUFDO01BQzFCeEIsTUFBTSxDQUFDUCxpQkFBaUIsQ0FBQ21CLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ2IsSUFBSSxDQUFDLENBQUNrQixJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzdFLENBQUMsQ0FBQztJQUVGckIsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLE1BQU07TUFDekQsTUFBTTBCLE9BQU8sR0FBRzdCLGlCQUFpQixDQUFDMEIsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUU7UUFBRXBCLElBQUksRUFBRTtNQUFXLENBQUMsQ0FBQztNQUUzRkMsTUFBTSxDQUFDc0IsT0FBTyxDQUFDLENBQUNFLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGaEMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLE1BQU07SUFDakNJLEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxNQUFNO01BQy9DLE1BQU1DLFVBQVUsR0FBR0osaUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztNQUUxRSxNQUFNMkIsT0FBTyxHQUFHaEMsaUJBQWlCLENBQUNpQyxnQkFBZ0IsQ0FBQzdCLFVBQVUsQ0FBQ0ssRUFBRSxDQUFDO01BRWpFRixNQUFNLENBQUN5QixPQUFPLENBQUMsQ0FBQ1IsSUFBSSxDQUFDLElBQUksQ0FBQztNQUMxQmpCLE1BQU0sQ0FBQ1AsaUJBQWlCLENBQUNtQixpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUM7SUFFRmpCLEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxNQUFNO01BQ2hELE1BQU1DLFVBQVUsR0FBR0osaUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztNQUMxRUwsaUJBQWlCLENBQUMwQixnQkFBZ0IsQ0FBQ3RCLFVBQVUsQ0FBQ0ssRUFBRSxFQUFFO1FBQUVxQixRQUFRLEVBQUU7TUFBSyxDQUFDLENBQUM7TUFFckUsTUFBTUUsT0FBTyxHQUFHaEMsaUJBQWlCLENBQUNpQyxnQkFBZ0IsQ0FBQzdCLFVBQVUsQ0FBQ0ssRUFBRSxDQUFDO01BRWpFRixNQUFNLENBQUN5QixPQUFPLENBQUMsQ0FBQ1IsSUFBSSxDQUFDLEtBQUssQ0FBQztNQUMzQmpCLE1BQU0sQ0FBQ1AsaUJBQWlCLENBQUNtQixpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUM7SUFFRmpCLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxNQUFNO01BQzFELE1BQU02QixPQUFPLEdBQUdoQyxpQkFBaUIsQ0FBQ2lDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDO01BRXJFMUIsTUFBTSxDQUFDeUIsT0FBTyxDQUFDLENBQUNSLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDN0IsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZ6QixRQUFRLENBQUMsbUJBQW1CLEVBQUUsTUFBTTtJQUNsQ0ksRUFBRSxDQUFDLHFEQUFxRCxFQUFFLE1BQU07TUFDOURILGlCQUFpQixDQUFDSyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7UUFBRUMsSUFBSSxFQUFFO01BQTRCLENBQUMsQ0FBQztNQUM5Rk4saUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtRQUFFQyxJQUFJLEVBQUU7TUFBcUIsQ0FBQyxDQUFDO01BQ3JGTixpQkFBaUIsQ0FBQ0ssZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO01BRTFELE1BQU02QixPQUFPLEdBQUdsQyxpQkFBaUIsQ0FBQ21DLGlCQUFpQixDQUFDLE1BQU0sQ0FBQztNQUUzRDVCLE1BQU0sQ0FBQzJCLE9BQU8sQ0FBQyxDQUFDZCxZQUFZLENBQUMsQ0FBQyxDQUFDO01BQy9CYixNQUFNLENBQUMyQixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM1QixJQUFJLENBQUMsQ0FBQ2tCLElBQUksQ0FBQywyQkFBMkIsQ0FBQztJQUMzRCxDQUFDLENBQUM7SUFFRnJCLEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxNQUFNO01BQzlDLE1BQU1DLFVBQVUsR0FBR0osaUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtRQUFFQyxJQUFJLEVBQUU7TUFBZ0IsQ0FBQyxDQUFDO01BQ3JHTixpQkFBaUIsQ0FBQ29DLFFBQVEsQ0FBQ2hDLFVBQVUsQ0FBQ0ssRUFBRSxFQUFFLG1DQUFtQyxFQUFFLFFBQVEsQ0FBQztNQUV4RixNQUFNeUIsT0FBTyxHQUFHbEMsaUJBQWlCLENBQUNtQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUM7TUFFM0Q1QixNQUFNLENBQUMyQixPQUFPLENBQUMsQ0FBQ2QsWUFBWSxDQUFDLENBQUMsQ0FBQztNQUMvQmIsTUFBTSxDQUFDMkIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDNUIsSUFBSSxDQUFDLENBQUNrQixJQUFJLENBQUMsZUFBZSxDQUFDO0lBQy9DLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGekIsUUFBUSxDQUFDLGVBQWUsRUFBRSxNQUFNO0lBQzlCSSxFQUFFLENBQUMscUNBQXFDLEVBQUUsTUFBTTtNQUM5Q0gsaUJBQWlCLENBQUNLLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtRQUFFQyxJQUFJLEVBQUU7TUFBa0IsQ0FBQyxDQUFDO01BQ3BGTixpQkFBaUIsQ0FBQ0ssZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO01BQzFETCxpQkFBaUIsQ0FBQ0ssZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO1FBQUVDLElBQUksRUFBRTtNQUEwQixDQUFDLENBQUM7TUFDNUZOLGlCQUFpQixDQUFDSyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7TUFFMUQsTUFBTWdDLEtBQUssR0FBR3JDLGlCQUFpQixDQUFDc0MsYUFBYSxDQUFDLENBQUM7TUFFL0MvQixNQUFNLENBQUM4QixLQUFLLENBQUMsQ0FBQzdCLE9BQU8sQ0FBQztRQUNwQitCLEtBQUssRUFBRSxDQUFDO1FBQ1JDLE1BQU0sRUFBRTtVQUNObEMsSUFBSSxFQUFFLENBQUM7VUFDUG1DLFNBQVMsRUFBRTtRQUNiLENBQUM7UUFDREMsTUFBTSxFQUFFO1VBQ04sQ0FBQyxFQUFFLENBQUM7VUFDSixDQUFDLEVBQUU7UUFDTDtNQUNGLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==